# TODO: Fonbet & Pari Collector v2.1.1

–ú—É–ª—å—Ç–∏—Å–∞–π—Ç–æ–≤—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö —Å fon.bet –∏ pari.ru –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/operations`.

---

## –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

| –§–∞–∑–∞ | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|--------|----------|
| –§–∞–∑–∞ 1 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ BetsDetailsFetcher |
| –§–∞–∑–∞ 2 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ |
| –§–∞–∑–∞ 3 | ‚úÖ –ß–ê–°–¢–ò–ß–ù–û | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (exponential backoff) |
| –§–∞–∑–∞ 4 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | –ß–∏—Å—Ç–∫–∞ –∫–æ–¥–∞ |
| –§–∞–∑–∞ 4.5 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |
| –§–∞–∑–∞ 5 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∞ |
| –§–∞–∑–∞ 6 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | UI —É–ª—É—á—à–µ–Ω–∏—è –∏ –ø–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ |
| –§–∞–∑–∞ 6.1 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | –ë–∞–≥-—Ñ–∏–∫—Å—ã –∏ —á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞ |
| –§–∞–∑–∞ 6.2 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥-—Ñ–∏–∫—Å |
| –§–∞–∑–∞ 6.3 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ endpoint –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ |
| –§–∞–∑–∞ 6.4 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—É—Å—Ç—ã—Ö —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ |
| –§–∞–∑–∞ 7 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | –ú—É–ª—å—Ç–∏—Å–∞–π—Ç–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (v2.0.0) |
| –§–∞–∑–∞ 8 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | Cleanup –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞ (v2.0.1) |
| –§–∞–∑–∞ 9 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | GitHub Sync ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å GitHub (v2.1.0) |
| –§–∞–∑–∞ 10 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | Cleanup –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (v2.1.1) |
| –§–∞–∑–∞ 11 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | UI-—Ñ–∏–∫—Å—ã –ø–∞–Ω–µ–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ + –±–∞–≥-—Ñ–∏–∫—Å—ã |
| –§–∞–∑–∞ 12 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | –§–∏–∫—Å: nextOperations –ª–æ–º–∞–ª —Å–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π |
| –§–∞–∑–∞ 13 | ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û | –§–∏–∫—Å: Git Blob API –¥–ª—è —Ñ–∞–π–ª–æ–≤ > 1MB –≤ sync |

---

## –ö–ª—é—á–µ–≤–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ

**–ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Ç—Ä–æ–∫—É –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ `/operations` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞–ø—Ä–æ—Å `coupon/info`!**

```
URL: https://clientsapi-lb52-w.bk6bba-resources.ru/coupon/info
Body: {"regId": <marker>, "lang": "ru", "betTypeName": "sport", "fsid": "...", ...}
```

**–í–∞–∂–Ω–æ:** `marker` –æ–ø–µ—Ä–∞—Ü–∏–∏ = `regId` –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –¥–µ—Ç–∞–ª–µ–π!

---

## –§–∞–∑–∞ 1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ BetsDetailsFetcher ‚úÖ

- [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å marker –≤–º–µ—Å—Ç–æ regId
- [x] –û–±–Ω–æ–≤–∏—Ç—å endpoint –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
- [x] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (271 —Å—Ç–∞–≤–∫–∞, 100% success rate)

---

## –§–∞–∑–∞ 2: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ ‚úÖ

- [x] Unified flow –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/operations`
- [x] –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ OperationsCollector
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ BetsDetailsFetcher
- [x] –ü—Ä–æ–≥—Ä–µ—Å—Å-–∏–Ω–¥–∏–∫–∞—Ü–∏—è

---

## –§–∞–∑–∞ 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ‚úÖ –ß–ê–°–¢–ò–ß–ù–û

- [x] Exponential backoff (INITIAL_RETRY_DELAY=500ms, MAX_RETRY_DELAY=8s, MULTIPLIER=2)
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ failed markers (failedMarkers[])
- [x] Graceful degradation
- [ ] –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π BATCH_SIZE –¥–ª—è –ø—Ä—è–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ç–µ–∫—É—â–∏–π: 5)

---

## –§–∞–∑–∞ 4: –ß–∏—Å—Ç–∫–∞ –∫–æ–¥–∞ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (v1.15.0)

### –£–¥–∞–ª–µ–Ω–æ:
- [x] AutoOpener (~713 —Å—Ç—Ä–æ–∫) ‚Äî —É–¥–∞–ª—ë–Ω –≤ v1.14.1
- [x] ProfileManager ‚Äî —É–¥–∞–ª—ë–Ω –≤ v1.15.0
- [x] SettingsModule ‚Äî —É–¥–∞–ª—ë–Ω –≤ v1.15.0
- [x] SettingsModal (~950 —Å—Ç—Ä–æ–∫) ‚Äî —É–¥–∞–ª—ë–Ω –≤ v1.15.0
- [x] MODE_PROFILES (yolo/stealth/superStealth) ‚Äî —É–¥–∞–ª—ë–Ω –≤ v1.15.0
- [x] XHRInterceptor: coupon/info –ø–µ—Ä–µ—Ö–≤–∞—Ç ‚Äî —É–ø—Ä–æ—â—ë–Ω (—Ç–æ–ª—å–∫–æ operations)
- [x] SELECTORS –¥–ª—è DOM /bets (COUPON, COUPON_NUMBER, ROW_CONTAINER, SCROLL_CONTAINER)
- [x] URL_PATTERNS.COUPON_INFO
- [x] LIMITS: MOUSE_*, LOTTERY_ID_THRESHOLD, SCROLL_NEAR_BOTTOM_PX
- [x] Stealth-—Ñ—É–Ω–∫—Ü–∏–∏: checkProbability, randomInRange, getCouponId, smoothScrollBy, simulateMouseMovement, shouldTakeReadingPause, shouldPauseDuringScroll, getPauseDuration, getCurrentBatchSize
- [x] @match /bets ‚Äî –æ—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ /operations

### –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –§–∞–∑—ã 4:
- –î–æ: ~5035 —Å—Ç—Ä–æ–∫
- –ü–æ—Å–ª–µ: ~3213 —Å—Ç—Ä–æ–∫
- –£–¥–∞–ª–µ–Ω–æ: ~1822 —Å—Ç—Ä–æ–∫–∏ (~36%)

---

## –§–∞–∑–∞ 4.5: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### –£–¥–∞–ª–µ–Ω–æ –∏–∑ XHRInterceptor:
- [x] retryTimers Map
- [x] _handleLoad() ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ coupon/info –æ—Ç–≤–µ—Ç–æ–≤
- [x] _scheduleRetry(), _executeRetry() ‚Äî –ª–æ–≥–∏–∫–∞ retry
- [x] _retryClickByCouponId(), _retryClickByRegId() ‚Äî –∫–ª–∏–∫–∏ –¥–ª—è retry
- [x] _cancelAllRetries() ‚Äî –æ—Ç–º–µ–Ω–∞ retry
- [x] _markXHRResolved(), _validateData(), _isDuplicate(), _saveData() ‚Äî helper —Ñ—É–Ω–∫—Ü–∏–∏
- [x] COUPON_INFO –±–ª–æ–∫ –≤ _patchXHR()

### –£–¥–∞–ª–µ–Ω–æ –∏–∑ UIPanel:
- [x] Mode slider (fc-mode-slider)
- [x] YOLO warning
- [x] Mode labels (YOLO, Stealth, Super, Custom)
- [x] Auto-opener checkbox
- [x] Settings –∫–Ω–æ–ø–∫–∞
- [x] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ "–ö—É–ø–æ–Ω–æ–≤ –∫–ª–∏–∫–Ω—É—Ç–æ" –∏ "–ü–æ–≤—Ç–æ—Ä–æ–≤"
- [x] _initializeModeSlider()
- [x] _handleModeChange()
- [x] _updateModeIndicator()
- [x] _updateModeLabels()
- [x] Mode-related CSS (~130 —Å—Ç—Ä–æ–∫)

### –£–¥–∞–ª–µ–Ω–æ –∏–∑ AppState:
- [x] clickCount, retryCount, isAutoOpenerRunning, currentMode

### –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –§–∞–∑—ã 4.5:
- –î–æ: ~3213 —Å—Ç—Ä–æ–∫
- –ü–æ—Å–ª–µ: ~2502 —Å—Ç—Ä–æ–∫
- –£–¥–∞–ª–µ–Ω–æ: ~711 —Å—Ç—Ä–æ–∫ (~22%)

### –ò—Ç–æ–≥–æ —É–¥–∞–ª–µ–Ω–æ —Å v1.14.1:
- ~2533 —Å—Ç—Ä–æ–∫–∏ (~50% –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞)

---

## –§–∞–∑–∞ 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∞ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### 5.1. JSON v2.1
- [x] detailsLoaded: —á–∏—Å–ª–æ
- [x] detailsFailed: —á–∏—Å–ª–æ
- [x] detailsSkipped: —á–∏—Å–ª–æ (–±—ã—Å—Ç—Ä—ã–µ —Å—Ç–∞–≤–∫–∏ –±–µ–∑ –¥–µ—Ç–∞–ª–µ–π)

### 5.2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞–≤–∫–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏
```json
{
  "marker": "2454979959",
  "status": "won",
  "operations": [...],
  "details": {
    "events": [...],
    "outcomes": [...],
    "coefficients": [...]
  }
}
```

---

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ë—ã—Å—Ç—Ä—ã–µ —Å—Ç–∞–≤–∫–∏ (760, 764)** ‚Äî –¥–µ—Ç–∞–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ coupon/info

---

## –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ñ–∞–∫—Ç—ã

| –§–∞–∫—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|------|----------|
| –û–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç regId? | ‚ùå –ù–ï–¢ |
| –û–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç marker? | ‚úÖ –î–ê |
| marker = regId –¥–ª—è coupon/info? | ‚úÖ –î–ê |
| –ö–ª–∏–∫ –Ω–∞ —Å—Ç—Ä–æ–∫—É /operations –≤—ã–∑—ã–≤–∞–µ—Ç coupon/info? | ‚úÖ –î–ê |
| –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø—Ä—è–º–æ–π fetch coupon/info? | ‚úÖ –î–ê |
| AutoOpener –Ω—É–∂–µ–Ω? | ‚ùå –ù–ï–¢ (—É–¥–∞–ª—ë–Ω) |
| ProfileManager –Ω—É–∂–µ–Ω? | ‚ùå –ù–ï–¢ (—É–¥–∞–ª—ë–Ω) |
| SettingsModal –Ω—É–∂–µ–Ω? | ‚ùå –ù–ï–¢ (—É–¥–∞–ª—ë–Ω) |
| Mode slider –Ω—É–∂–µ–Ω? | ‚ùå –ù–ï–¢ (—É–¥–∞–ª—ë–Ω) |
| XHR retry –ª–æ–≥–∏–∫–∞ –Ω—É–∂–Ω–∞? | ‚ùå –ù–ï–¢ (—É–¥–∞–ª—ë–Ω) |

### –†–∞–±–æ—á–∏–π endpoint –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```javascript
// ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π URL —á–µ—Ä–µ–∑ SiteDetector
// Fonbet: https://clientsapi-lb52-w.bk6bba-resources.ru/coupon/info
// Pari:   https://clientsapi-lb01-w.pb06e2-resources.com/coupon/info
await fetch(SiteDetector.getCouponInfoUrl(), {
    method: 'POST',
    headers: { 'Content-Type': 'text/plain;charset=UTF-8' },
    body: JSON.stringify({
        regId: parseInt(marker),  // marker –∏–∑ –æ–ø–µ—Ä–∞—Ü–∏–∏
        lang: 'ru',
        betTypeName: 'sport',
        fsid: sessionParams.fsid,
        sysId: sessionParams.sysId || 21,
        clientId: sessionParams.clientId
    })
});
```

---

## –§–∞–∑–∞ 6.1: –ë–∞–≥-—Ñ–∏–∫—Å—ã –∏ —á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (v1.15.2)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
- [x] **UI —Å—á—ë—Ç—á–∏–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ 0**
  - –ü—Ä–∏—á–∏–Ω–∞: `getStats()` –≤–æ–∑–≤—Ä–∞—â–∞–ª `total`, –∞ –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `totalOperations`
  - –†–µ—à–µ–Ω–∏–µ: –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω `total` ‚Üí `totalOperations` –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
  - –¢–µ–ø–µ—Ä—å —Å—á—ë—Ç—á–∏–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

- [x] **–£–¥–∞–ª–µ–Ω–∞ legacy –∫–Ω–æ–ø–∫–∞ "Export JSON"**
  - –°—Ç–∞—Ä–∞—è –∫–Ω–æ–ø–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∞ `state.collectedData` (–∏–∑ AutoOpener)
  - –û—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "üí∞ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö"
  - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–∑ OperationsCollector –≤ —Ñ–æ—Ä–º–∞—Ç–µ v2.1
  - –ú–µ—Ç–æ–¥ `exportJSON()` –æ—Å—Ç–∞–≤–ª–µ–Ω –≤ –∫–æ–¥–µ (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
  - –£–±—Ä–∞–Ω –∏–∑ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ API `fonbetCollector.export()`

### –ò—Ç–æ–≥–æ:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –±–∞–≥–∏ –ø–æ—Å–ª–µ v1.15.1
- –£–ø—Ä–æ—â—ë–Ω UI (3 –∫–Ω–æ–ø–∫–∏ –≤–º–µ—Å—Ç–æ 4)
- –£–±—Ä–∞–Ω–∞ –ø—É—Ç–∞–Ω–∏—Ü–∞ —Å –¥–≤—É–º—è –∫–Ω–æ–ø–∫–∞–º–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞

---

## –§–∞–∑–∞ 6.2: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥-—Ñ–∏–∫—Å ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (v1.15.3)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
- [x] **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥: UIPanel –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è**
  - –ü—Ä–∏—á–∏–Ω–∞: –≤—ã–∑–æ–≤ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ `this._initializeModeSlider()` –≤ —Å—Ç—Ä–æ–∫–µ 1390
  - –ú–µ—Ç–æ–¥ –±—ã–ª —É–¥–∞–ª–µ–Ω –≤ –§–∞–∑–µ 4.5, –Ω–æ –≤—ã–∑–æ–≤ –æ—Å—Ç–∞–ª—Å—è
  - –û—à–∏–±–∫–∞: `TypeError: this._initializeModeSlider is not a function`
  - –°–ª–µ–¥—Å—Ç–≤–∏–µ: UI –ø–∞–Ω–µ–ª—å –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª–∞—Å—å, —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–ª
  - –†–µ—à–µ–Ω–∏–µ: —É–¥–∞–ª–µ–Ω –≤—ã–∑–æ–≤ `this._initializeModeSlider()` –∏–∑ –º–µ—Ç–æ–¥–∞ `create()`
  - –°–∫—Ä–∏–ø—Ç —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

### –ò—Ç–æ–≥–æ:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥, –±–ª–æ–∫–∏—Ä—É—é—â–∏–π —Ä–∞–±–æ—Ç—É —Å–∫—Ä–∏–ø—Ç–∞
- –í–µ—Ä—Å–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ v1.15.3

---

## –§–∞–∑–∞ 6.3: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ endpoint –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (v1.15.4)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
- [x] **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏**
  - –ü—Ä–æ–±–ª–µ–º–∞: endpoint –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `.com` –≤–º–µ—Å—Ç–æ `.ru` –∏ `lb51` –≤–º–µ—Å—Ç–æ `lb52`
  - –°—Ç–∞—Ä—ã–π: `https://clientsapi-lb51-w.bk6bba-resources.com/session/client/prevOperations`
  - –ù–æ–≤—ã–π: `https://clientsapi-lb52-w.bk6bba-resources.ru/session/client/prevOperations`
  - –°–ª–µ–¥—Å—Ç–≤–∏–µ: –∑–∞–ø—Ä–æ—Å—ã —Å–ª–µ–¥—É—é—â–∏—Ö –ø–æ—Ä—Ü–∏–π –æ–ø–µ—Ä–∞—Ü–∏–π –≤–æ–∑–≤—Ä–∞—â–∞–ª–∏ –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç
  - –†–µ—à–µ–Ω–∏–µ: –æ–±–Ω–æ–≤–ª–µ–Ω endpoint –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–æ–º–µ–Ω `.ru` –∏ lb52

### –ò—Ç–æ–≥–æ:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –æ–ø–µ—Ä–∞—Ü–∏–π
- –°–∫—Ä–∏–ø—Ç —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –í–µ—Ä—Å–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ v1.15.4

---

## –§–∞–∑–∞ 6.4: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—É—Å—Ç—ã—Ö —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (v1.15.5)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
- [x] **–°–∫—Ä–∏–ø—Ç "–∑–∞–≤–∏—Å–∞–ª" –≤ —Ä–µ–∂–∏–º–µ —Å–±–æ—Ä–∞ –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞—Ö**
  - –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞ `{operations: [], completed: true}` —Å–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞–≤–µ—Ä—à–∞–ª —Å–±–æ—Ä
  - –ü—Ä–∏—á–∏–Ω–∞: –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª–∞ —Å–ª—É—á–∞–π "—Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –±–µ–∑ –æ–ø–µ—Ä–∞—Ü–∏–π"
  - –°–ª–µ–¥—Å—Ç–≤–∏–µ: –°–∫—Ä–∏–ø—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–ª "‚ö†Ô∏è –ü–æ–ª—É—á–µ–Ω –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º" –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å
  - –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è –≤–µ—Ç–∫–∞ –¥–ª—è `data.completed === true && operations.length === 0`
  - –¢–µ–ø–µ—Ä—å —Å–∫—Ä–∏–ø—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–±–æ—Ä –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø—É—Å—Ç–æ–≥–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞

### –ò—Ç–æ–≥–æ:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤–æ–¥–∏–ª –∫ –∑–∞–≤–∏—Å–∞–Ω–∏—é —Å–±–æ—Ä–∞ –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞—Ö
- –°–∫—Ä–∏–ø—Ç —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- –í–µ—Ä—Å–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ v1.15.5

---

## –§–∞–∑–∞ 6: UI —É–ª—É—á—à–µ–Ω–∏—è –∏ –ø–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (v1.15.1)

### 6.1. UI –±–∞–≥–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è
- [x] **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI —Å—á—ë—Ç—á–∏–∫–æ–≤**
  - –û–±–Ω–æ–≤–ª—ë–Ω –º–µ—Ç–æ–¥ `_getStateHash()` –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
  - –°—á—ë—Ç—á–∏–∫–∏ —Ç–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

- [x] **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω "XHR —Å–æ–±—Ä–∞–Ω–æ:" ‚Üí "–û–ø–µ—Ä–∞—Ü–∏–π —Å–æ–±—Ä–∞–Ω–æ:"**
  - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

- [x] **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `isCollectionCompleted` –∏ `completionStats` –≤ AppState
  - –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –æ—Å—Ç–∞—ë—Ç—Å—è –≤–∏–¥–∏–º—ã–º –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
  - –°—Ç–∞—Ç—É—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "‚úÖ –°–±–æ—Ä –∑–∞–≤–µ—Ä—à—ë–Ω: N –æ–ø–µ—Ä–∞—Ü–∏–π, M –≥—Ä—É–ø–ø"
  - –î–æ–±–∞–≤–ª–µ–Ω CSS —Å—Ç–∏–ª—å –¥–ª—è completed —Å—Ç–∞—Ç—É—Å–∞

- [x] **–ü–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫**
  - –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å SettingsManager —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–∑–∞–≥—Ä—É–∑–∫–∏
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" (‚öôÔ∏è) –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–∞–Ω–µ–ª–∏
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –±–æ–∫–æ–≤–æ–µ –≤—ã–¥–≤–∏–∂–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
    - –≠–∫—Å–ø–æ—Ä—Ç: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–µ—Ñ–∏–∫—Å, –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞
    - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–µ—Ç–∞–ª–µ–π: batch size, –∑–∞–¥–µ—Ä–∂–∫–∏, retry –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ GM_setValue/GM_getValue
  - –ö–Ω–æ–ø–∫–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" –∏ "–°–±—Ä–æ—Å–∏—Ç—å –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"

### –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –§–∞–∑—ã 6:
- –î–æ: ~2502 —Å—Ç—Ä–æ–∫–∏ (v1.15.0)
- –ü–æ—Å–ªÔøΩÔøΩ: ~3100 —Å—Ç—Ä–æ–∫ (v1.15.1)
- –î–æ–±–∞–≤–ª–µ–Ω–æ: ~600 —Å—Ç—Ä–æ–∫ (+24%) - –ø–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ —É–ª—É—á—à–µ–Ω–∏—è UI

---

## –°–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ
1. [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å v2.1.0 –Ω–∞ fon.bet (—Ä–µ–≥—Ä–µ—Å—Å–∏—è) ‚Äî 48/48 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω—ã (2026-02-09)
2. [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å GitHubSync –Ω–∞ fon.bet ‚Äî —Ç–µ—Å—Ç—ã 11-14 –ø—Ä–æ–π–¥–µ–Ω—ã
3. [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å GitHubSync –Ω–∞ pari.ru ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚úÖ
1. [x] –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–π GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `betting-data`
2. [x] –°–æ–∑–¥–∞—Ç—å fine-grained PAT —Å –ø—Ä–∞–≤–∞–º–∏ `Contents: Read and write`
3. [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ API

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –£–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
1. [ ] –£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ä–µ–∂–∏–º–µ DEBUG_MODE
2. [x] ~~–î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–±–æ—Ä–∞~~ ‚Üí Notification.requestPermission —É–¥–∞–ª—ë–Ω (–º—ë—Ä—Ç–≤—ã–π –∫–æ–¥)

---

## –§–∞–∑–∞ 10: Cleanup –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (v2.1.1)

–ê—É–¥–∏—Ç –∫–æ–¥–∞ –ø–æ—Å–ª–µ v2.1.0: —É–¥–∞–ª–µ–Ω–∏–µ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ inconsistencies, —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.

### 10.1. –£–¥–∞–ª–µ–Ω–∏–µ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞
- [x] EventBus (35 —Å—Ç—Ä–æ–∫) ‚Äî –æ–ø—Ä–µ–¥–µ–ª—ë–Ω, –Ω–æ –Ω–∏ —Ä–∞–∑—É –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è (on/off/emit)
- [x] SegmentMapper (~46 —Å—Ç—Ä–æ–∫) ‚Äî –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å GitHub, –Ω–æ getName() –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- [x] `URL_PATTERNS.SEGMENT_MAPPINGS` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –≤ SegmentMapper
- [x] `OperationsCollector.onCollectionComplete` ‚Äî –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –∫–∞–∫ null, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è
- [x] `OperationsCollector.setActiveGroups()` ‚Äî –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
- [x] `OperationsCollector.fetchAllBetsDetails()` ‚Äî –∑–∞–º–µ–Ω—ë–Ω –Ω–∞ `_autoLoadBetsDetails()`
- [x] `UIPanel.destroy()` ‚Äî –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
- [x] `Notification.requestPermission()` ‚Äî —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è, –Ω–æ Notification –Ω–∏–≥–¥–µ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è

### 10.2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- [x] –û–±—ä–µ–¥–∏–Ω–µ–Ω—ã –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ç–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∞ (data.completed === true) –≤ –æ–¥–Ω—É

### 10.3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ inconsistencies
- [x] Hardcoded `'2.1.0'` ‚Üí `VERSION` –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ (_buildExportData, _mergeData)
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è alias: changeAlias() –ø—Ä–∏–Ω–∏–º–∞–ª –∫–∏—Ä–∏–ª–ª–∏—Ü—É, setup dialog ‚Äî –Ω–µ—Ç ‚Üí —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ
- [x] `@author Your name` ‚Üí —Ä–µ–∞–ª—å–Ω—ã–π –∞–≤—Ç–æ—Ä
- [x] –£–¥–∞–ª–µ–Ω—ã redundant `typeof OperationsCollector !== 'undefined'` checks

### 10.4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- [x] –£–¥–∞–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ v1.14.0, v1.14.1
- [x] `// –î–µ–ª–∞–µ–º XHR –∑–∞–ø—Ä–æ—Å` ‚Üí `// –î–µ–ª–∞–µ–º fetch –∑–∞–ø—Ä–æ—Å` (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fetch)
- [x] `"Export JSON"` ‚Üí `"ÔøΩÔøΩ–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö"` –≤ help text
- [x] –û–±–Ω–æ–≤–ª—ë–Ω help text: —É–ø–æ–º—è–Ω—É—Ç—ã GitHub Sync, –∫–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- [x] `totalOperations: ops.length,  // –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏` ‚Üí —É–±—Ä–∞–Ω —Å—Ç–µ–π–ª-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- [x] `// –ü–µ—Ä–µ—Ö–≤–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–π (–¥–µ–ø–æ–∑–∏—Ç—ã/–≤—ã–≤–æ–¥—ã)` ‚Üí `// –ü–µ—Ä–µ—Ö–≤–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–π` (–ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Ç–∏–ø—ã)

### –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –§–∞–∑—ã 10:
- –î–æ: ~3549 —Å—Ç—Ä–æ–∫ (v2.1.0)
- –ü–æ—Å–ª–µ: ~3387 —Å—Ç—Ä–æ–∫ (v2.1.1)
- –£–¥–∞–ª–µ–Ω–æ: ~162 —Å—Ç—Ä–æ–∫–∏ (~4.6%)

---

## –§–∞–∑–∞ 7: –ú—É–ª—å—Ç–∏—Å–∞–π—Ç–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (v2.0.0)

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- [x] –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ API pari.ru ‚Äî API –Ω–∞ 100% —Å–æ–≤–º–µ—Å—Ç–∏–º—ã
- [x] –ú–æ–¥—É–ª—å SiteDetector –¥–ª—è –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–∞–π—Ç–∞
- [x] –î–æ–±–∞–≤–ª–µ–Ω `@match pari.ru/account/history/operations`
- [x] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ URL —á–µ—Ä–µ–∑ SiteDetector (fallback API base, coupon/info)
- [x] PREV_OPERATIONS –¥–æ–±–∞–≤–ª–µ–Ω –≤–æ –≤—Å–µ –∏–Ω—Ç–µ—Ä—Å–µ–ø—Ç–æ—Ä—ã
- [x] –≠–∫—Å–ø–æ—Ä—Ç –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–µ `site` –∏ `siteId`
- [x] –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç: `window.collector`
- [x] –ö—ç—à: `_collectorCachedOperations`
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω regId: fallback –Ω–∞ `details.header.regId` || `marker`
- [x] UI –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∏–º–µ–Ω–µ–º —Å–∞–π—Ç–∞

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (pari.ru):
- 97 —Å—Ç–∞–≤–æ–∫ —Å–æ–±—Ä–∞–Ω–æ
- 6 –¥–µ–ø–æ–∑–∏—Ç–æ–≤
- 97/97 –¥–µ—Ç–∞–ª–µ–π –∑–∞–≥—Ä—É–∂–µ–Ω–æ (100%)
- 0 –æ—à–∏–±–æ–∫
- site: "Pari" –≤ —ç–∫—Å–ø–æ—Ä—Ç–µ

### –§–∞–π–ª—ã:
- `universal_collector_v2.0.0.user.js` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
- `fonbet_collector_v1_15_0.user.js` ‚Äî –ø—Ä–µ–¥—ã–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è (–∞—Ä—Ö–∏–≤)

---

## –§–∞–∑–∞ 8: Cleanup –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞ ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (v2.0.1)

### –£–¥–∞–ª–µ–Ω–æ (~277 —Å—Ç—Ä–æ–∫):
- [x] –ú—ë—Ä—Ç–≤—ã–π `ExportModule.exportJSON()` (76 —Å—Ç—Ä–æ–∫)
- [x] –ú—ë—Ä—Ç–≤—ã–µ –ø–æ–ª—è AppState: `collectedData`, `collectedRegIds`, `xhrCount`, `errorCount`, `duplicateCount`, `startTime`
- [x] –ú—ë—Ä—Ç–≤—ã–µ UI-—ç–ª–µ–º–µ–Ω—Ç—ã: "–û—à–∏–±–æ–∫", "–î—É–±–ª–∏–∫–∞—Ç–æ–≤", "–í—Ä–µ–º—è" –≤ HTML
- [x] –ú—ë—Ä—Ç–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: `getRegIdsForDetails()`, `sleep()`, `formatTime()`, `playCompletionSound()`
- [x] –ú—ë—Ä—Ç–≤—ã–π CSS: `.fc-stat-retry`, `.fc-modules`, `.fc-checkbox`, `.fc-btn-export`
- [x] DEBUG-–ª–æ–≥–∏ –∏–∑ `_patchFetch()` –∏ `_handleOperationsLoad()`
- [x] –ú—ë—Ä—Ç–≤—ã–π `XHRInterceptor.getStats()`
- [x] `SELECTORS` (–æ—Ç —É–¥–∞–ª—ë–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã /bets)
- [x] `LIMITS.MIN_DELAY_MS` (legacy –æ—Ç stealth-—Ä–µ–∂–∏–º–∞)
- [x] –ú—ë—Ä—Ç–≤—ã–µ —Å—Å—ã–ª–∫–∏ –∏–∑ `_cacheElements()`, `update()`, `_getStateHash()`, `_startAutoUpdate()`
- [x] `_updateTimer()` –º–µ—Ç–æ–¥

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
- [x] –ë–∞–≥: `_updateButtons()` —Å—Å—ã–ª–∞–ª—Å—è –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ `isAutoOpenerRunning`
- [x] –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ NOTE-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –≤–µ—Ä—Å–∏–æ–Ω–Ω—ã–µ —Ç–µ–≥–∏

### –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –§–∞–∑—ã 8:
- –î–æ: 3133 —Å—Ç—Ä–æ–∫–∏ (v2.0.0)
- –ü–æ—Å–ª–µ: 2856 —Å—Ç—Ä–æ–∫ (v2.0.1)
- –£–¥–∞–ª–µ–Ω–æ: 277 —Å—Ç—Ä–æ–∫ (~8.8%)

---

## –§–∞–∑–∞ 9: GitHub Sync ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (v2.1.0)

–ú–æ–¥—É–ª—å –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö —Å GitHub.

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- [x] –ú–æ–¥—É–ª—å GitHubSync (~560 —Å—Ç—Ä–æ–∫): API, merge, sync, setup dialog, changeAlias
- [x] –û–±—ë—Ä—Ç–∫–∞ GM_xmlhttpRequest –¥–ª—è CORS-free GitHub API –∑–∞–ø—Ä–æ—Å–æ–≤
- [x] Merge-–ª–æ–≥–∏–∫–∞ –ø–æ –∫–ª—é—á—É `marker` (local overwrites remote)
- [x] SHA-–∫–æ–Ω—Ñ–ª–∏–∫—Ç retry –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º sync
- [x] –î–∏–∞–ª–æ–≥ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- [x] changeAlias() —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞ –≤ GitHub
- [x] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ExportModule: _buildExportData() ‚Äî –æ–±—â–∏–π –º–µ—Ç–æ–¥ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏ sync
- [x] UI: –∫–Ω–æ–ø–∫–∞ Sync, —Å—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ sync –≤ –ø–∞–Ω–µ–ª–∏
- [x] –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: @grant GM_xmlhttpRequest, @connect api.github.com
- [x] –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã: collector.sync(), collector.changeAlias()

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –≤ GitHub:
```
betting-data/
‚îú‚îÄ‚îÄ fonbet/
‚îÇ   ‚îú‚îÄ‚îÄ 17158121_Vlad.json
‚îÇ   ‚îî‚îÄ‚îÄ 12345678_Sergey.json
‚îî‚îÄ‚îÄ pari/
    ‚îî‚îÄ‚îÄ 98765432_Vlad.json
```

### –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –§–∞–∑—ã 9:
- –î–æ: 2856 —Å—Ç—Ä–æ–∫ (v2.0.1)
- –ü–æ—Å–ª–µ: ~3549 —Å—Ç—Ä–æ–∫ (v2.1.0)
- –î–æ–±–∞–≤–ª–µ–Ω–æ: ~693 —Å—Ç—Ä–æ–∫–∏ (+24%)

---

## –§–∞–∑–∞ 11: UI-—Ñ–∏–∫—Å—ã –ø–∞–Ω–µ–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ + –±–∞–≥-—Ñ–∏–∫—Å—ã ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (Settings Panel).

### 11.1. –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ header/footer ‚Üí solid background
- [x] `.fc-settings-header`: `background: rgba(255, 255, 255, 0.05)` ‚Üí `#1a1a2e`
- [x] `.fc-settings-actions`: `background: rgba(255, 255, 255, 0.03)` ‚Üí `#1a1a2e`
- **–ü—Ä–∏—á–∏–Ω–∞:** –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç—É –ø—Ä–æ—Å–≤–µ—á–∏–≤–∞—Ç—å –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ, –≤—ã–≥–ª—è–¥–∏—Ç –Ω–µ—á–∏—Ç–∞–±–µ–ª—å–Ω–æ

### 11.2. –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" –≤ header
- [x] `.fc-settings-title`: –¥–æ–±–∞–≤–ª–µ–Ω —è–≤–Ω—ã–π `color: #ffffff`
- **–ü—Ä–∏—á–∏–Ω–∞:** —á—ë—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–µ –≤–∏–¥–µ–Ω –Ω–∞ —Ç—ë–º–Ω–æ-—Å–µ—Ä–æ–º —Ñ–æ–Ω–µ –ø–∞–Ω–µ–ª–∏; —Ü–≤–µ—Ç –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç host-—Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∞ –Ω–µ –æ—Ç `.fc-settings-panel`

### 11.3. Checkbox-–ø–æ–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ ‚Üí —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ toggle-–∫–Ω–æ–ø–∫–∏
- [x] –ü–µ—Ä–µ–¥–µ–ª–∞–Ω—ã `.fc-settings-checkbox-field` —Å –Ω–∞—Ç–∏–≤–Ω—ã—Ö —á–µ–∫–±–æ–∫—Å–æ–≤ –Ω–∞ toggle-–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏
- [x] –î–æ–±–∞–≤–ª–µ–Ω —ç–ª–µ–º–µ–Ω—Ç `.fc-toggle` (track + thumb —á–µ—Ä–µ–∑ ::after)
- [x] –ö–ª–∞—Å—Å `.checked` –Ω–∞ label –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è (–∑–µ–ª—ë–Ω–∞—è —Ä–∞–º–∫–∞/—Ñ–æ–Ω)
- [x] –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ change –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞ checked
- **–ü—Ä–∏—á–∏–Ω–∞:** —Ç–µ–∫—É—â–∏–µ —á–µ–∫–±–æ–∫—Å—ã –ø–ª–æ—Ö–æ –≤–∏–¥–Ω—ã, –Ω–µ –≤—ã–≥–ª—è–¥—è—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏, —Å—Ç–∞—Ç—É—Å on/off –Ω–µ–æ—á–µ–≤–∏–¥–µ–Ω

### 11.4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞ –≤ alert GitHubSync
- [x] –°—Ç—Ä–æ–∫–∞ ~3164: `'‚úÖ –ù–∞—Å—Ç—ÄÔøΩÔøΩ–π–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!'` ‚Üí `'‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!'`
- **–ü—Ä–∏—á–∏–Ω–∞:** –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ Unicode-—Å–∏–º–≤–æ–ª—ã (`ÔøΩÔøΩ` –≤–º–µ—Å—Ç–æ `–æ–π`) –≤ —Ç–µ–∫—Å—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è `GitHubSync._handleSetupSave()`

### 11.5. –†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–ø–µ—Ä–∞—Ü–∏–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ vs "Start All"
- [x] –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–æ: –Ω–∞—á–∞–ª—å–Ω—ã–π `lastOperations` –æ—Ç–≤–µ—Ç –æ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–æ–∂–µ—Ç –∏–º–µ—Ç—å `completed: true` —Å –º–∞–ª—ã–º batch (~90 ops), —Ö–æ—Ç—è –≤ –∏—Å—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª—å—à–µ –æ–ø–µ—Ä–∞—Ü–∏–π
- [x] –ü—Ä–∏—á–∏–Ω–∞: –∫–æ–ª–ª–µ–∫—Ç–æ—Ä —Ç—Ä–∞–∫—Ç–æ–≤–∞–ª `completed: true` –≤ initial `lastOperations` –∫–∞–∫ "–≤—Å—è –∏—Å—Ç–æ—Ä–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞" –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª—Å—è
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –ø—Ä–∏ `completed: true` –≤ initial `lastOperations` –≤—Å–µ–≥–¥–∞ –¥–µ–ª–∞–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å `prevOperations` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π
- **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:** –∞–∫–∫–∞—É–Ω—Ç 28 ‚Äî ~90 –æ–ø–µ—Ä–∞—Ü–∏–π –ø—Ä–∏ –∞–≤—Ç–æ—Å–±–æ—Ä–µ, 947 –ø—Ä–∏ —Ä—É—á–Ω–æ–º –∑–∞–ø—É—Å–∫–µ

### 11.6. –û—à–∏–±–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ "Unexpected end of JSON input"
- [x] –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–æ: `_getFile()` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `atob()` –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫ –∏–∑ GitHub API –∏ –±–µ–∑ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ UTF-8 –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
- [x] –ü—Ä–∏—á–∏–Ω–∞ 1: GitHub API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç base64 —Å `\n` –ø–µ—Ä–µ–Ω–æ—Å–∞–º–∏ ‚Äî `atob()` –º–æ–∂–µ—Ç –ª–æ–º–∞—Ç—å—Å—è
- [x] –ü—Ä–∏—á–∏–Ω–∞ 2: –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ `btoa(unescape(encodeURIComponent(...)))`, –Ω–æ —á—Ç–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç–æ–π `atob()` –±–µ–∑ `decodeURIComponent(escape(...))` ‚Äî Cyrillic –ª–æ–º–∞–µ—Ç JSON
- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: `_getFile()` —Ç–µ–ø–µ—Ä—å –æ—á–∏—â–∞–µ—Ç base64 –æ—Ç whitespace, –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç UTF-8 –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ:** –≤—ã–ø–æ–ª–Ω–∏—Ç—å `collector.sync()` –¥–≤–∞–∂–¥—ã –ø–æ–¥—Ä—è–¥ ‚Äî –ø–µ—Ä–≤—ã–π sync —É—Å–ø–µ—à–µ–Ω, –≤—Ç–æ—Ä–æ–π –ø–∞–¥–∞–µ—Ç

---

## –§–∞–∑–∞ 12: –§–∏–∫—Å nextOperations ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (v2.1.1-hotfix)

### –ü—Ä–æ–±–ª–µ–º–∞:
- [x] **–°–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª—Å—è –Ω–∞ 200 –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ (~8000+)**
  - –ü—Ä–æ—è–≤–ª–µ–Ω–∏–µ: –ø—Ä–∏ —Ö–æ–ª–æ–¥–Ω–æ–º —Å—Ç–∞—Ä—Ç–µ –±—Ä–∞—É–∑–µ—Ä–∞ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä —Å–æ–±–∏—Ä–∞–ª —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª—å–Ω—ã–π batch –∏–∑ `lastOperations` (~200 –æ–ø–µ—Ä–∞—Ü–∏–π) –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª—Å—è
  - –ü—Ä–∏ reload —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—Ç—ë–ø–ª—ã–π —Å—Ç–∞—Ä—Ç) –∏–Ω–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚Äî –∑–∞—Ç—Ä—É–¥–Ω—è–ª–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É

### –ü—Ä–∏—á–∏–Ω–∞:
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ fon.bet –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ –ø–æ–ª–ª–∏—Ç endpoint `nextOperations` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (40+ –∑–∞–ø—Ä–æ—Å–æ–≤)
- `earlyInit` –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–ª –≤—Å–µ —Ç—Ä–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞: `LAST_OPERATIONS`, `NEXT_OPERATIONS`, `PREV_OPERATIONS`
- –û—Ç–≤–µ—Ç—ã `nextOperations` (–ø—É—Å—Ç—ã–µ, `completed: true`) –∫—ç—à–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ `window._collectorCachedOperations`
- –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `start()` –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ:
  1. `lastOperations` (200 ops) ‚Üí –∑–∞–ø—É—Å–∫–∞–ª async `_requestNextOperations()` –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
  2. `nextOperations` (0 ops, `completed: true`) ‚Üí –ø–æ–ø–∞–¥–∞–ª –≤ –≤–µ—Ç–∫—É `else` ‚Üí `this.completed = true; this.stop()` ‚Äî —É–±–∏–≤–∞–ª –∫–æ–ª–ª–µ–∫—Ç–æ—Ä
  3. Async `_requestNextOperations()` –ø—Ä–∏—Ö–æ–¥–∏–ª –ø–æ–∑–∂–µ, –Ω–æ `isCollecting` —É–∂–µ `false` ‚Üí –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª—Å—è
- –°–∫—Ä–∏–ø—Ç **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª** `nextOperations` ‚Äî –ø–∞–≥–∏–Ω–∞—Ü–∏—è –∏–¥—ë—Ç —á–µ—Ä–µ–∑ `prevOperations`

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
- [x] –£–¥–∞–ª—ë–Ω `URL_PATTERNS.NEXT_OPERATIONS` –∏–∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- [x] –£–¥–∞–ª—ë–Ω –ø–µ—Ä–µ—Ö–≤–∞—Ç `nextOperations` –∏–∑ `XHRInterceptor._patchXHR()`
- [x] –£–¥–∞–ª—ë–Ω –ø–µ—Ä–µ—Ö–≤–∞—Ç `nextOperations` –∏–∑ `XHRInterceptor._patchFetch()`
- [x] –£–¥–∞–ª—ë–Ω –ø–µ—Ä–µ—Ö–≤–∞—Ç `nextOperations` –∏–∑ `earlyInit()` fetch patch
- [x] –£–¥–∞–ª—ë–Ω –ø–µ—Ä–µ—Ö–≤–∞—Ç `nextOperations` –∏–∑ `earlyInit()` XHR patch
- –í—Å–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–æ 5 –º–µ—Å—Ç –≤ –∫–æ–¥–µ

### –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- **–î–æ —Ñ–∏–∫—Å–∞:** 200 –æ–ø–µ—Ä–∞—Ü–∏–π (—Ö–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç)
- **–ü–æ—Å–ª–µ —Ñ–∏–∫—Å–∞:** 8282 –æ–ø–µ—Ä–∞—Ü–∏–∏ (–≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã –ø–æ `saldoId + Id`)
- 115 —Å–∞–ª—å–¥–æ-–ø–µ—Ä–∏–æ–¥–æ–≤, –æ—Ç 1 –¥–æ 100 –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –∫–∞–∂–¥–æ–º
- –ü–µ—Ä–∏–æ–¥: 30.11.2025 ‚Äî 11.02.2026 (~73 –¥–Ω—è)
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: 3609 —Å—Ç–∞–≤–æ–∫, 1805 –≤—ã–∏–≥—Ä—ã—à–µ–π, 1705 –ø—Ä–æ–∏–≥—Ä—ã—à–µ–π, 249 —Ñ—Ä–∏–±–µ—Ç–æ–≤, 86 –¥–µ–ø–æ–∑–∏—Ç–æ–≤, 93 –≤—ã–≤–æ–¥–∞
- –ö–æ–º–º–∏—Ç: `8fed10b`

---

## –§–∞–∑–∞ 13: Git Blob API –¥–ª—è —Ñ–∞–π–ª–æ–≤ > 1MB ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (v2.1.1-hotfix)

### –ü—Ä–æ–±–ª–µ–º–∞:
- [x] **Sync –ø–∞–¥–∞–ª —Å –æ—à–∏–±–∫–æ–π SHA_CONFLICT –Ω–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–∞—Ö**
  - –§–∞–π–ª –≤ GitHub –≤—ã—Ä–æ—Å –¥–æ 1.95 MB –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ —Å–±–æ—Ä–∞ (8285 –æ–ø–µ—Ä–∞—Ü–∏–π + –¥–µ—Ç–∞–ª–∏)
  - GitHub Contents API (`/repos/.../contents/...`) –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `content` –¥–ª—è —Ñ–∞–π–ª–æ–≤ > 1 MB (`encoding: "none"`)
  - `_getFile()` –≤–æ–∑–≤—Ä–∞—â–∞–ª `null` ‚Üí sync –ø—ã—Ç–∞–ª—Å—è —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª –±–µ–∑ SHA ‚Üí GitHub –æ—Ç–≤–µ—á–∞–ª 422 (—Ñ–∞–π–ª —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç) ‚Üí –æ—à–∏–±–æ—á–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å –∫–∞–∫ `SHA_CONFLICT`

### –ü—Ä–∏—á–∏–Ω–∞:
- GitHub Contents API –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç 1 MB –Ω–∞ inline content –≤ –æ—Ç–≤–µ—Ç–µ
- –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏: `status: 200`, `content: null`, `encoding: "none"`, `size: 2039809`
- –ö–æ–¥ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª `!result.data.content` –∫–∞–∫ –æ—à–∏–±–∫—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–ª `null`
- –ë–µ–∑ remote data –∏ SHA, `_putFile` –≤—ã–∑—ã–≤–∞–ª—Å—è —Å `sha: null` ‚Üí 422 Unprocessable Entity
- –°—Ç–∞—Ç—É—Å—ã 409/422 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ –∫–∞–∫ `SHA_CONFLICT`

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
- [x] `_getFile()`: –ø—Ä–∏ `content: null && sha` ‚Äî fallback –Ω–∞ Git Blob API (`/repos/.../git/blobs/{sha}`)
- Git Blob API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∞–π–ª—ã –¥–æ 100 MB –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç base64-encoded content
- –î–∞–ª–µ–µ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–∞: –æ—á–∏—Å—Ç–∫–∞ base64, –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ UTF-8, JSON.parse

### –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- Sync –ø—Ä–æ—à—ë–ª —É—Å–ø–µ—à–Ω–æ: **+2891 –Ω–æ–≤—ã—Ö, 1192 –æ–±–Ω–æ–≤–ª–µ–Ω–æ**
- –§–∞–π–ª 1.95 MB –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–Ω —á–µ—Ä–µ–∑ Blob API, —Å–º–µ—Ä–¥–∂–µ–Ω –∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω
- –ö–æ–º–º–∏—Ç: `314e17c`
